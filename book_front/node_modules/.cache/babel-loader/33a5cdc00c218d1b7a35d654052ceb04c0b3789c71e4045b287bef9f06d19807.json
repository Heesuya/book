{"ast":null,"code":"var _jsxFileName = \"/Users/ori/Desktop/project/book/book_front/src/admin/Login.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  //recoil저장소에 접근하는 방법\n  const [loginId, setLoginId] = useState(loginIdState);\n  const [memberType, setMemberType] = useState(memberTypeState);\n  //console.log(loginId);\n  //console.log(memberType);\n  const backServer = process.env.REACT_APP_BACK_SERVER;\n  const navigate = useNavigate();\n  const [member, setMember] = useState({\n    memberId: \"\",\n    memberPw: \"\"\n  });\n  const changeMember = e => {\n    const name = e.target.name;\n    setMember({\n      ...member,\n      [name]: e.target.value\n    });\n  };\n  //console.log(member);\n  const login = () => {\n    if (member.memberId === \"\" || member.memberPw === \"\") {\n      Swal.fire({\n        text: \"아이디 또는 비밀번호를 입력하세요\",\n        icon: \"info\"\n      });\n      return;\n    }\n    axios.post(`${backServer}/member/login`, member) //select 는 get이 맞지만, password 노출 되지 않게 post 사용\n    .then(res => {\n      console.log(res);\n      setLoginId(res.data.memberId);\n      setMemberType(res.data.memberType);\n      //로그인 이후 axios요청 시 발급받은 토큰값을 자동으로 axios에 추가하는 설정\n      axios.defaults.headers.common[\"Authorization\"] = res.data.accessToken;\n      //로그인 상태를 지속적으로 유지시키기위해 발급받은 refreshToken을 브라우저에 저장\n      window.localStorage.setItem(\"refreshToken\", res.data.refreshToken);\n      navigate(\"/\");\n    }).catch(err => {\n      //console.log(err);\n      Swal.fire({\n        text: \"아이디 또는 비밀번호를 확인하세요\",\n        icon: \"warning\"\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section login-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-title\",\n      children: \"\\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        login();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-title\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"memberId\",\n            children: \"\\uC544\\uC774\\uB514\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"memberId\",\n            id: \"memberId\",\n            value: member.memberId,\n            onChange: changeMember\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-title\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"memberPw\",\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"memberPw\",\n            id: \"memberPw\",\n            value: member.memberPw,\n            onChange: changeMember\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-button-box\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary lg\",\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"member-link-box\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/join\",\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          children: \"\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"m1EXA+McNErPQls3iMg5h0aqal0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useState","Link","useNavigate","Swal","jsxDEV","_jsxDEV","Login","_s","loginId","setLoginId","loginIdState","memberType","setMemberType","memberTypeState","backServer","process","env","REACT_APP_BACK_SERVER","navigate","member","setMember","memberId","memberPw","changeMember","e","name","target","value","login","fire","text","icon","post","then","res","console","log","data","defaults","headers","common","accessToken","window","localStorage","setItem","refreshToken","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","preventDefault","htmlFor","type","id","onChange","to","_c","$RefreshReg$"],"sources":["/Users/ori/Desktop/project/book/book_front/src/admin/Login.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\n\nconst Login = () => {\n  //recoil저장소에 접근하는 방법\n  const [loginId, setLoginId] = useState(loginIdState);\n  const [memberType, setMemberType] = useState(memberTypeState);\n  //console.log(loginId);\n  //console.log(memberType);\n  const backServer = process.env.REACT_APP_BACK_SERVER;\n  const navigate = useNavigate();\n  const [member, setMember] = useState({ memberId: \"\", memberPw: \"\" });\n  const changeMember = (e) => {\n    const name = e.target.name;\n    setMember({ ...member, [name]: e.target.value });\n  };\n  //console.log(member);\n  const login = () => {\n    if (member.memberId === \"\" || member.memberPw === \"\") {\n      Swal.fire({\n        text: \"아이디 또는 비밀번호를 입력하세요\",\n        icon: \"info\",\n      });\n      return;\n    }\n    axios\n      .post(`${backServer}/member/login`, member) //select 는 get이 맞지만, password 노출 되지 않게 post 사용\n      .then((res) => {\n        console.log(res);\n        setLoginId(res.data.memberId);\n        setMemberType(res.data.memberType);\n        //로그인 이후 axios요청 시 발급받은 토큰값을 자동으로 axios에 추가하는 설정\n        axios.defaults.headers.common[\"Authorization\"] = res.data.accessToken;\n        //로그인 상태를 지속적으로 유지시키기위해 발급받은 refreshToken을 브라우저에 저장\n        window.localStorage.setItem(\"refreshToken\", res.data.refreshToken);\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        //console.log(err);\n        Swal.fire({\n          text: \"아이디 또는 비밀번호를 확인하세요\",\n          icon: \"warning\",\n        });\n      });\n  };\n  return (\n    <section className=\"section login-wrap\">\n      <div className=\"page-title\">로그인</div>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          login();\n        }}\n      >\n        <div className=\"input-wrap\">\n          <div className=\"input-title\">\n            <label htmlFor=\"memberId\">아이디</label>\n          </div>\n          <div className=\"input-item\">\n            <input\n              type=\"text\"\n              name=\"memberId\"\n              id=\"memberId\"\n              value={member.memberId}\n              onChange={changeMember}\n            ></input>\n          </div>\n        </div>\n        <div className=\"input-wrap\">\n          <div className=\"input-title\">\n            <label htmlFor=\"memberPw\">비밀번호</label>\n          </div>\n          <div className=\"input-item\">\n            <input\n              type=\"password\"\n              name=\"memberPw\"\n              id=\"memberPw\"\n              value={member.memberPw}\n              onChange={changeMember}\n            ></input>\n          </div>\n        </div>\n        <div className=\"login-button-box\">\n          <button type=\"submit\" className=\"btn-primary lg\">\n            로그인\n          </button>\n        </div>\n        <div className=\"member-link-box\">\n          <Link to=\"/join\">회원가입</Link>\n          <Link to=\"#\">아이디/비밀번호 찾기</Link>\n        </div>\n      </form>\n    </section>\n  );\n};\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}