{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import Swal from\"sweetalert2\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookView=()=>{const{bookId}=useParams();const backServer=process.env.REACT_APP_BACK_SERVER;const[book,setBook]=useState(null);const navigate=useNavigate();useEffect(()=>{axios.get(`${backServer}/api/books/${bookId}`).then(res=>{setBook(res.data);console.log(res.data);}).catch(err=>{Swal.fire({icon:\"error\",title:\"책 정보 불러오기 실패\",text:\"서버에 문의 해주세요.\"});//console.error(\"책 상세 정보 불러오기 실패\", err);\n});},[bookId]);if(!book)return/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uB529 \\uC911...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"book-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"book-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"book-title\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"book-author\",children:[\"\\uC800\\uC790: \",book.author]}),/*#__PURE__*/_jsxs(\"p\",{className:\"book-publisher\",children:[\"\\uCD9C\\uD310\\uC0AC: \",book.publisher]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"book-image\",children:/*#__PURE__*/_jsx(\"img\",{src:book.image?book.image:\"/image/default_img.png\",alt:book.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uCC45 \\uC18C\\uAC1C\"}),/*#__PURE__*/_jsx(\"p\",{children:book.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(`/book/update/${book.id}`)// 수정 페이지로 이동\n,children:\"\\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>{Swal.fire({icon:\"warning\",title:\"돌아가기\",text:\"돌아가시겠습니까?\",showCancelButton:true,confirmButtonText:\"예\",cancelButtonText:\"취소\"}).then(result=>{if(result.isConfirmed){navigate(`/`);// 예시로 홈으로 돌아가기\n}});}// 돌아가기 버튼에 SweetAlert2 적용\n,children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})]})]});};export default BookView;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","Swal","jsx","_jsx","jsxs","_jsxs","BookView","bookId","backServer","process","env","REACT_APP_BACK_SERVER","book","setBook","navigate","get","then","res","data","console","log","catch","err","fire","icon","title","text","children","className","author","publisher","src","image","alt","description","onClick","id","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed"],"sources":["/Users/ori/Desktop/project/book/book_front/src/components/book/BookView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\n\nconst BookView = () => {\n  const { bookId } = useParams();\n  const backServer = process.env.REACT_APP_BACK_SERVER;\n  const [book, setBook] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .get(`${backServer}/api/books/${bookId}`)\n      .then((res) => {\n        setBook(res.data);\n        console.log(res.data);\n      })\n      .catch((err) => {\n        Swal.fire({\n          icon: \"error\",\n          title: \"책 정보 불러오기 실패\",\n          text: \"서버에 문의 해주세요.\",\n        });\n        //console.error(\"책 상세 정보 불러오기 실패\", err);\n      });\n  }, [bookId]);\n\n  if (!book) return <p>로딩 중...</p>;\n\n  return (\n    <div className=\"book-view-container\">\n      <div className=\"book-header\">\n        <h1 className=\"book-title\">{book.title}</h1>\n        <p className=\"book-author\">저자: {book.author}</p>\n        <p className=\"book-publisher\">출판사: {book.publisher}</p>\n      </div>\n\n      <div className=\"book-image\">\n        <img\n          src={book.image ? book.image : \"/image/default_img.png\"}\n          alt={book.title}\n        />\n      </div>\n\n      <div className=\"book-description\">\n        <h3>책 소개</h3>\n        <p>{book.description}</p>\n      </div>\n      <div className=\"btn-wrap\">\n        <button\n          className=\"btn-secondary\"\n          onClick={() => navigate(`/book/update/${book.id}`)} // 수정 페이지로 이동\n        >\n          수정하기\n        </button>\n        <button\n          className=\"btn-secondary\"\n          onClick={() => {\n            Swal.fire({\n              icon: \"warning\",\n              title: \"돌아가기\",\n              text: \"돌아가시겠습니까?\",\n              showCancelButton: true,\n              confirmButtonText: \"예\",\n              cancelButtonText: \"취소\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                navigate(`/`); // 예시로 홈으로 돌아가기\n              }\n            });\n          }} // 돌아가기 버튼에 SweetAlert2 적용\n        >\n          돌아가기\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookView;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,MAAO,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAS,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CACpD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdI,KAAK,CACFe,GAAG,CAAC,GAAGP,UAAU,cAAcD,MAAM,EAAE,CAAC,CACxCS,IAAI,CAAEC,GAAG,EAAK,CACbJ,OAAO,CAACI,GAAG,CAACC,IAAI,CAAC,CACjBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACC,IAAI,CAAC,CACvB,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,EAAK,CACdrB,IAAI,CAACsB,IAAI,CAAC,CACRC,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,cAAc,CACrBC,IAAI,CAAE,cACR,CAAC,CAAC,CACF;AACF,CAAC,CAAC,CACN,CAAC,CAAE,CAACnB,MAAM,CAAC,CAAC,CAEZ,GAAI,CAACK,IAAI,CAAE,mBAAOT,IAAA,MAAAwB,QAAA,CAAG,wBAAO,CAAG,CAAC,CAEhC,mBACEtB,KAAA,QAAKuB,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCtB,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BxB,IAAA,OAAIyB,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEf,IAAI,CAACa,KAAK,CAAK,CAAC,cAC5CpB,KAAA,MAAGuB,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,gBAAI,CAACf,IAAI,CAACiB,MAAM,EAAI,CAAC,cAChDxB,KAAA,MAAGuB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,sBAAK,CAACf,IAAI,CAACkB,SAAS,EAAI,CAAC,EACpD,CAAC,cAEN3B,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzBxB,IAAA,QACE4B,GAAG,CAAEnB,IAAI,CAACoB,KAAK,CAAGpB,IAAI,CAACoB,KAAK,CAAG,wBAAyB,CACxDC,GAAG,CAAErB,IAAI,CAACa,KAAM,CACjB,CAAC,CACC,CAAC,cAENpB,KAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BxB,IAAA,OAAAwB,QAAA,CAAI,qBAAI,CAAI,CAAC,cACbxB,IAAA,MAAAwB,QAAA,CAAIf,IAAI,CAACsB,WAAW,CAAI,CAAC,EACtB,CAAC,cACN7B,KAAA,QAAKuB,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBxB,IAAA,WACEyB,SAAS,CAAC,eAAe,CACzBO,OAAO,CAAEA,CAAA,GAAMrB,QAAQ,CAAC,gBAAgBF,IAAI,CAACwB,EAAE,EAAE,CAAG;AAAA,CAAAT,QAAA,CACrD,0BAED,CAAQ,CAAC,cACTxB,IAAA,WACEyB,SAAS,CAAC,eAAe,CACzBO,OAAO,CAAEA,CAAA,GAAM,CACblC,IAAI,CAACsB,IAAI,CAAC,CACRC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,IAAI,CAAE,WAAW,CACjBW,gBAAgB,CAAE,IAAI,CACtBC,iBAAiB,CAAE,GAAG,CACtBC,gBAAgB,CAAE,IACpB,CAAC,CAAC,CAACvB,IAAI,CAAEwB,MAAM,EAAK,CAClB,GAAIA,MAAM,CAACC,WAAW,CAAE,CACtB3B,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CACF,CAAC,CAAC,CACJ,CAAG;AAAA,CAAAa,QAAA,CACJ,0BAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}