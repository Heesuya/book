{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookView=()=>{const{bookId}=useParams();// URL에서 bookId 가져오기\nconst backServer=process.env.REACT_APP_BACK_SERVER;const[book,setBook]=useState(null);const navigate=useNavigate();useEffect(()=>{axios.get(`${backServer}/api/books/${bookId}`).then(res=>{setBook(res.data);console.log(res.data);}).catch(err=>{console.error(\"책 상세 정보 불러오기 실패\",err);});},[bookId]);if(!book)return/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uB529 \\uC911...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"book-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"book-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"book-title\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"book-author\",children:[\"\\uC800\\uC790: \",book.author]}),/*#__PURE__*/_jsxs(\"p\",{className:\"book-publisher\",children:[\"\\uCD9C\\uD310\\uC0AC: \",book.publisher]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"book-image\",children:/*#__PURE__*/_jsx(\"img\",{src:book.image?book.image:\"/image/default_img.png\",alt:book.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uCC45 \\uC18C\\uAC1C\"}),/*#__PURE__*/_jsx(\"p\",{children:book.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(`/book/update/${book.id}`)// 수정 페이지로 이동\n,children:\"\\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(`/`)// 수정 페이지로 이동\n,children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})]})]});};export default BookView;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","jsx","_jsx","jsxs","_jsxs","BookView","bookId","backServer","process","env","REACT_APP_BACK_SERVER","book","setBook","navigate","get","then","res","data","console","log","catch","err","error","children","className","title","author","publisher","src","image","alt","description","onClick","id"],"sources":["/Users/ori/Desktop/project/book/book_front/src/components/book/BookView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst BookView = () => {\n  const { bookId } = useParams(); // URL에서 bookId 가져오기\n  const backServer = process.env.REACT_APP_BACK_SERVER;\n  const [book, setBook] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .get(`${backServer}/api/books/${bookId}`)\n      .then((res) => {\n        setBook(res.data);\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.error(\"책 상세 정보 불러오기 실패\", err);\n      });\n  }, [bookId]);\n\n  if (!book) return <p>로딩 중...</p>;\n\n  return (\n    <div className=\"book-view-container\">\n      <div className=\"book-header\">\n        <h1 className=\"book-title\">{book.title}</h1>\n        <p className=\"book-author\">저자: {book.author}</p>\n        <p className=\"book-publisher\">출판사: {book.publisher}</p>\n      </div>\n\n      <div className=\"book-image\">\n        <img\n          src={book.image ? book.image : \"/image/default_img.png\"}\n          alt={book.title}\n        />\n      </div>\n\n      <div className=\"book-description\">\n        <h3>책 소개</h3>\n        <p>{book.description}</p>\n      </div>\n      <div className=\"btn-wrap\">\n        <button\n          className=\"btn-secondary\"\n          onClick={() => navigate(`/book/update/${book.id}`)} // 수정 페이지로 이동\n        >\n          수정하기\n        </button>\n        <button\n          className=\"btn-secondary\"\n          onClick={() => navigate(`/`)} // 수정 페이지로 이동\n        >\n          돌아가기\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookView;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,MAAO,CAAC,CAAGP,SAAS,CAAC,CAAC,CAAE;AAChC,KAAM,CAAAQ,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CACpD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdI,KAAK,CACFc,GAAG,CAAC,GAAGP,UAAU,cAAcD,MAAM,EAAE,CAAC,CACxCS,IAAI,CAAEC,GAAG,EAAK,CACbJ,OAAO,CAACI,GAAG,CAACC,IAAI,CAAC,CACjBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACC,IAAI,CAAC,CACvB,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,EAAK,CACdH,OAAO,CAACI,KAAK,CAAC,iBAAiB,CAAED,GAAG,CAAC,CACvC,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,MAAM,CAAC,CAAC,CAEZ,GAAI,CAACK,IAAI,CAAE,mBAAOT,IAAA,MAAAqB,QAAA,CAAG,wBAAO,CAAG,CAAC,CAEhC,mBACEnB,KAAA,QAAKoB,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCnB,KAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BrB,IAAA,OAAIsB,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEZ,IAAI,CAACc,KAAK,CAAK,CAAC,cAC5CrB,KAAA,MAAGoB,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,gBAAI,CAACZ,IAAI,CAACe,MAAM,EAAI,CAAC,cAChDtB,KAAA,MAAGoB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,sBAAK,CAACZ,IAAI,CAACgB,SAAS,EAAI,CAAC,EACpD,CAAC,cAENzB,IAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzBrB,IAAA,QACE0B,GAAG,CAAEjB,IAAI,CAACkB,KAAK,CAAGlB,IAAI,CAACkB,KAAK,CAAG,wBAAyB,CACxDC,GAAG,CAAEnB,IAAI,CAACc,KAAM,CACjB,CAAC,CACC,CAAC,cAENrB,KAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BrB,IAAA,OAAAqB,QAAA,CAAI,qBAAI,CAAI,CAAC,cACbrB,IAAA,MAAAqB,QAAA,CAAIZ,IAAI,CAACoB,WAAW,CAAI,CAAC,EACtB,CAAC,cACN3B,KAAA,QAAKoB,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBrB,IAAA,WACEsB,SAAS,CAAC,eAAe,CACzBQ,OAAO,CAAEA,CAAA,GAAMnB,QAAQ,CAAC,gBAAgBF,IAAI,CAACsB,EAAE,EAAE,CAAG;AAAA,CAAAV,QAAA,CACrD,0BAED,CAAQ,CAAC,cACTrB,IAAA,WACEsB,SAAS,CAAC,eAAe,CACzBQ,OAAO,CAAEA,CAAA,GAAMnB,QAAQ,CAAC,GAAG,CAAG;AAAA,CAAAU,QAAA,CAC/B,0BAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}